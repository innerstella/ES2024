# 13장 스코프

## 13.1 스코프란?

**스코프** : 식별자가 유효한 범위

**렉시컬 환경(Lexicla Environment)**
코드가 어디서 실행되며 주변에 어떤 코드가 있는지를 나타내는 것
-> 렉시컬 환경을 구현한 것을 **실행 컨텍스트(Execution Context)**라 한다.

- 식별자는 하나의 값에 하나의 식별자에 연결되어야 하므로 유일해야한다.
- 스코프를 통해 변수 이름의 충돌을 방지하여 같은 이름의 변수를 사용할 수 있다.
  - 스코프는 네임스페이스다.

## 13.2 스코프의 종류
스코프는 **전역 스코프**와 **지역 스코프**로 나뉜다.

**전역 스코프** : 코드의 가장 바깥 영역, 전체
- 전역 스코프에서 선언된 전역 변수는 어디서든 참조할 수 있다.
**지역 스코프** : 함수 몸체 내부
- 지역 변수는 지역 스코프와 하위 지역 스코프에서 유효하다.

## 13.3 스코프 체인
- 함수가 중첩될 수 있는 것처럼 스코프도 중첩될 수 있다. 이 때, 스코프는 계층적 구조를 가진다.
- 스코프가 계층적으로 연결된 것을 **스코프 체인(Scope Chain)**이라 한다.

변수를 참조할 때, 지역 스코프부터 시작하여 점차 **상위 스코프 방향**으로 이동하며 검색한다.

상위 스코프에서 유효한 변수는 하위 스코프에서 자유롭게 참조할 수 있wl만 하위 스코프에서 유효한 변수를 상위 스코프에서 참조할 수 없다.

## 13.4 함수 레벨 스코프
지역 스코프는 코드 블록이 아닌 **함수에 의해서만** 지역 스코프가 생성된다.
-> var 키워드로 선언된 변수는 오직 **함수 몸체만**을 지역 스코프로 인정한다.**(함수 레벨 스코프)**

`let`, `const` 키워드는 블록 레벨 스코프를 지원한다.(15장 언급)

## 13.5 렉시컬 스코프
상위 스코프를 결정하는 방식은 두가지가 있다.
1. 함수를 어디서 호출했는지에 따라 함수의 상위 스코프를 결정한다.(동적 스코프)
- 함수를 정의하는 시점에는 함수가 어디서 호출될 지 알 수 없기 때문에 **함수가 호출되는 시점**에 동적으로 상위 스코프를 결정해야 한다.
2. 함수를 어디서 정의했는지에 따라 함수의 상위 스코프를 결정한다.(정적 스코프)
- 렉시컬 스코프라고도 하며, 상위 스코프가 동적으로 변하지 않고 **함수 정의가 평가되는 시점**에 상위 스코프가 정적으로 결정된다.

**자바스크립트**는 렉시컬 스코프를 따르므로 **함수를 어디서 정의**했는지에 따라 상위 스코프를 결정한다.
