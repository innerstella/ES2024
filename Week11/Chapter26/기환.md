# 26장 ES6 함수의 추가 기능

## 26.1 함수의 구분
- ES6 이전의 모든 함수는 일반 함수로서 호출할 수 있는 것은 물론 생성자 함수로서 호출할 수 있음
  - callabe이면서 constructor
- 생성 목저에 따라 명확한 구분이 없어 호출 방식에 틁별한 제약기 없고 생성자 함수로 호출되지 않아도 프로토타입 객체를 생성한다.
- 혼란스럽고 실수를 유발할 가능성이 있고 성능에도 좋지 않음
- 목적에 따라 세 가지 종류(일반 함수, 메서드, 화살표 함수)로 명확히 구분함

## 26.2 메서드
- ES6 이전 사양에는 일반적으로 객체에 바인딩된 함수를 일컫는 의미로 사용되었다.
- ES6 사양에서는 메서드 축약 표현으로 정의된 함수만을 의미한다.
- 인스턴스를 생성할 수 없는 non-constructor다.
- 자신을 바인딩한 객체를 가리키는 내부 슬롯 [[HomeObject]]를 갖는다. -> super 키워드 사용가능

## 26.3 화살표 함수
- function 키워드 대신 화살표( `=>` )를 사용하여 기존의 함수 정의 방식보다 간략하게 정의할 수 있다.
- 표현뿐만 아니라 내부 동작도 간략
- 콜백 함수 내부에서 this가 전역 객체를 가리키는 문제를 해결하기 위한 대안으로 유용함.

## 26.3.1 화살표 함수 정의
- **함수 정의**
  - 함수 선언문이 아닌 함수 표현식으로 정의해야함
- **매개변수 선언**
  - 매개변수가 여러개인 경우 소괄호 안에 매개변수를 선언
  - 매개변수가 한 개인 경우 소괄호 생략 가능
  - 매개변수가 없는 경우 소괄호 생략 불가능
- **함수 몸체 정의**
  - 함수 몸체가 하나의 문으로 구성된다면 함수 몸체를 감싸는 중괄호 생략 가능(여러 개일 때는 불가능)
  - 생략한 경우 몸체 내부의 문이 표현식이 아닌 문이라면 에러 발생
  - 객체 리터럴을 반환하는 경우 객체 리터럴을 소괄호로 감싸 주어야함(안할 경우 몸체로 해석할 수 있음)
  - 즉시 실행 함수로 사용할 수 있음
  - 일급 객체이므로 고차 함수에 인수로 전달 가능(가독성이 좋다.)
  - 콜백 함수로서 정의할 때 유용함

## 26.3.2 화살표 함수와 일반 함수의 차이
1. 화살표 함수는 인스턴스를 생성할 수 없는 non-constructor다.
2. 중복된 매개변수 이름을 선언할 수 없음
3. 화살표 함수는 함수 자체의 this, arguments, super, new.target 바인딩을 갖지 않음**(스코프 체인을 통해 상위 스코프를 참조)**

## 26.3.3 this
- 화살표 함수와 일반 함수의 가장 큰 구별점은 this
- 일반 함수로서 호축되는 모든 함수 내부의 this는 전역 객체를 가리킴
- 화살표 함수는 함수 자체의 this 바인딩을 갖지 않음
- lexical this: 화살표 함수 내부에서 this를 참조하면 상위 스코프의 this를 그대로 참조(렉시컬 스코프처럼 함수가 정의된 위치에 의해 결정)
- 화살표 함수를 제외한 모든 함수에는 this 바인딩이 반드시 존재
- 화살표 함수가 중첩되어 있다면 스코프 체인 상에서 가장 가까운 상위 함수 중에서 화살표 함수가 아닌 함수의 this를 참조
- 화살표 함수가 전역 함수라면, this는 전역 객체를 가리킨다.
- Function.prototype.call, apply, bind 메서드를 사용해도 내부의 this를 교체할 수 없음
- 메서드를 화살표 함수로 정의하는 것은 피해야함.

## 26.3.4 super
화살표 함수는 함수 자체의 super 바인딩을 갖지 않아 this와 마찬가지로 **상위 스코프의 super를 참조**

## 26.3.5 arguments
- 함살표 함수는 함수 자체의 arguments 바인딩을 갖지 않아 **상위 스코프의 arguments를 참조**
- arguments 객체는 함수를 정의할 때 매개변수의 개수를 확정할 수 없는 가변 인자 함수를 구현할 때 유용하지만 화살표 함수에서는 argumnets 객체를 사용할 수 없다.
- 화살표 함수로 가변 인자 함수를 구현해야 할 때는 반드시 **Rest 파라미터**를 사용해야함

## 26.4 Rest 파라미터
- 기본 문법
 - 매개변수 이름 앞에 `...`을 붙임
  - Rest 파라미터는 함수에 전달된 인수들의 목록을 배열로 전달받는다.
- Rest 파라미터는 먼저 선언된 매개변수에 할당된 인수를 제외한 나머지 인수들로 구성된 배열에 할당 되므로 반드시 마지막 파라미터여야 함
- 단 하나만 선언할 수 있음
- 함수 객체의 length 프로퍼티에 영향을 주지 않음.

## 26.5 매개변수 기본값
- 함수를 호출할 때 자바스크립트 엔진은 매개변수의 개수와 인수의 개수를 체크하지 않음
- 인수가 전달되지 않은 매개변수의 값은 undefined
- 인수가 전달되지 않은 매개변수에 기본값을 할당할 필요가 있음(방어 코드)
- ES6에서 도입된 매개변수 기본값을 사용해 함수 내에서 수행하던 인수 체크 및 초기화를 간소화할 수 있음
- 매개변수에 인수를 전달하지 않은 경우와 undefined를 전달한 경우에만 유효
- Rest 파라미터에는 기본값을 지정할 수 없음
- 함수 정의 시 선언한 매개변수 개수를 나타내는 length 프로퍼티와 arguments 객체에 영향 X


