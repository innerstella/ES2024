# 21장 빌트인 객체

## 21.1 자바스크립트 객체의 분류
자바스크립트 객체는 다음과 같이 크게 3개의 객체로 분류할 수 있다.
- 표준 빌트인 객체(standard built-in objects/natice objects/global objects
  - ECMAScript 사양에 정의된 객체를 말하며, 애플리케이션 전역의 공통 기능을 제공한다.
  - 자바스크립트 실행 환경과 관계없이 언제나 사용할 수 있따.
  - 전역 객체의 프로퍼티로서 제공된다. -> 별도의 선언 없이 전역 변수처럼 언제나 참조할 수 있다.
- 호스트 객체(host objects)
  - ECMAScrict 사양에 정의되어 있지 않지만 자바스크립트 실행 환경에서 추가로 제공하는 객체를 말한다.
  - 브라우저 환경에서는 DOM, BOM 등과 같은 클라이언트 사이드 Web API를 호스트 객체로 제공한다.
  - Node.js 환경에서는 Node.js 고유의 API를 호스트 객체로 제공한다.
- 사용자 정의 객체(user-defined objects)
  - 표준 빌트인 객체와 호스트 객체처럼 기본 제공되는 객체가 아닌 사용자가 직접 정의한 객체를 말한다.

## 21.2 표준 빌트인 객체
- 자바스크립트는 Object,String, Number 등 40여 개의 표준 빌트인 객체를 제공한다.
- Math, Reflect, JSON을 제외한 표준 빌트인 객체는 모두 인스턴스를 생성할 수 있는 생성자 함수 객체다.
  - 생성자 함수 객체인 표준 빌트인 객체 : 프로토타입 메서드(prototype 프로퍼티)와 정적 메서드를 제공
  - 생성자 함수 객체가 아닌 표준 빌트인 객체 : 정적 메서드만 제공

## 21.3 원시값과 래퍼 객체
**래퍼 객체(wrapper object)** : 문자열, 숫자, 불리언 값에 대해 객체처럼 접근하면 생성되는 임시 객체

### (ex)
- 문자열에 대해 마침표 표기법으로 접근하면 래퍼 객체인 String 생성자 함수의 인스턴스가 생성되고 문자열은 래퍼 객체의 [[StringData]] 내부 슬롯에 할당 된다.
- 생성자 함수의 인스턴스는 String.prototype의 메서드를 상속받아 사용할 수 있다.
- 그 후, 처리가 종료되면 내부 슬롯에 할당된 원시값을 원래의 상태로 되돌리고 래퍼 객체는 가비지 컬렌션이 된다.

**null과 undefined는 래퍼 객체를 생성하지 않으므로 객체처럼 사용하면 에러가 발생한다.**

## 21.4 전역 객체
**전역 객체(global objcet)** : 코드가 실행되기 이전 단계에 자바스크립트 엔진에 의해 어떤 객체보다도 먼저 생성되는 특수한 객체이며, 어떤 객체에도 속하지 않는 최상위 객체다.
- 브라우저 환경에서는 window(또는 self, this, frames)를 가리킨다.
- Node.js 환경에서는 global이 전역 객체를 가리킨다.

### 전역 객체의 프로퍼티
- 표준 빌트인 객체
- 환경에 따른 호스트 객체
- var 키워드로 선언한 전역 변수와 전역 함수

**전역 객체는 계층적 구조상 어떤 객체에도 속하지 않는 모든 빌트인 객체의 최상위 객체다.**
- 프로토타입 상속 관계상에서 최상위 객체라는 의미 X
- 전역 객체 자신은 어떤 객체의 프로퍼티도 아니며, 계층적 구조상 표준 빌트인 객체와 호스트 객체를 프로퍼티로 소유한다.

### 전역 객체의 특징
- 개발자가 의도적으로 생성할 수 없다. -> 전역 객체를 생성할 수 있는 생성자 함수 제공 X
- 전역 객체의 프로퍼티를 참조할 때 widow(global)을 생략할 수 있다.
- 모든 표준 빌트인 객체를 프로퍼티로 가지고 있다.
- 실행 환경에 따라 추가적으로 프로퍼티와 메서드를 갖는다.
- var 키워드로 선언한 전역 변수와 선언하지 않은 변수에 값을 할당한 암묵적 전역, 전역 함수는 전역 객체의 프로퍼티가 된다.
- let이나 const 키워드로 선언한 전역 변수는 전역 객체의 프로퍼티가 아니다.(보이지 않는 개념적인 블록 내에 존재)
- 브라우저 환경의 모든 자바스크립트 코드는 하나의 전역 객체 window를 공유한다.

### 빌트인 전역 프로퍼티
빌트인 전역 프로퍼티는 전역 객체의 프로퍼티를 의미하며 애플리케이션 전역에서 사용하는 값을 제공한다.
- **Infinity** : 무한대를 나타내는 숫자값 Infinity를 갖는다.
- **NaN** : 숫자가 아님을 나타내는 숫자값, Number.NaN 프로퍼티와 같다.
- **undefined** : 원시 타입 undefined를 값으로 갖는다.

### 빌트인 전역 함수
빌트인 전역 함수는 애플리케이션 전역에서 호출할 수 있는 빌트인 함수로서 전역 객체의 메서드다.
- eval : 문자열을 인수로 전달받아 표현식인지 아닌지에 따라 다르게 동작한다.
  - 표현식 O -> 문자열 코드를 런타임에 평가하여 값을 생성
  - 표현식 X -> 문자열 코드를 런타임에 실행한다.
- 문자열이 여러 개일 경우 -> 모든 문을 실행한 뒤, 마지막 값 반환
- eval 함수는 자신이 호출된 위치에 해당하는 기존의 스코프를 런타임에 동적으로 수정한다,
  - 이미 그 위치에 존재하던 코드처럼 동작한다.
  - strict mode에서는 기존의 스코프를 수정하지 않고, 자체적인 스코프를 생성한다.
- 보안에 매우 취약하고, 최적화가 수행되지 않으므로 사용을 금지해야 한다.

- isFinite
  - 전달받은 인수가 정상적인 유한수인지 검사한뒤 true/false를 반환한다.
  - 인수가 숫자가 아닌 경우, 숫자로 타입을 변환한 뒤 검사를 수행한다.

- isNaN
  - 전달받은 인수가 NaN인지 검사하여 결과를 불리언 타입으로 변환한다.
  - 인수가 숫자가 아닌 경우 숫자로 타입을 변환한 후 검사를 수행한다.

- parseFloat
  - 전달받은 문자열 인수를 부동 소수점 숫자(floating point number), 즉 실수로 해석하여 반환한다.

- parseInt
  - 전달받은 문자열 인수를 정수로 해석하여 반환한다.
  - 전달받은 인수가 문자열이 아니면 문자열로 변환한 다음, 정수로 해석하여 반환한다.


- encodeURI / decodeURI
  - encodeURI 함수는 완전한 URI를 문자열로 전달받아 이스케이프 처리를 위해 인코딩한다.
  - decodeURI 함수는 인코딩된 URI를 인수로 전달받아 이스케이프 처리 이전으로 디코딩한다.

- encodeURIComponent / decodeURIComponent
  - encodeURIComponent 함수는 URI 구성 요소를 인수로 전달 받아 인코딩한다.
  - decodeURIComponent 함수는 매개변수로 전달된 URI 구성 요소를 디코딩한다.

**#URI는 인터넷에 있는 자원을 나타내는 유일한 주소를 말한다. 하위 개념으로 URL, URN이 있다.**

### 암묵적 전역(implict global)
- 선언하지 않은 식별자에 값을 할당하면 전역 객체의 프로퍼티가 되어 전역 변수처럼 동작한다.
- 이 때 추가된 식별자는 변수가 아니므로 변수 호이스팅이 발생하지 않는다.
- 변수가 아니라 프로퍼티일뿐이므로 delete 연산자로 삭제할 수 있다.
