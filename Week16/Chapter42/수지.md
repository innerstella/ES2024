# 42.1 동기 처리와 비동기 처리

- 함수 호출 → 함수 코드 평가 → 함수 실행 컨텍스트 생성 → 실행 컨텍스트 스택에 푸시 → 함수 코드 실행 종료 → 실행 컨텍스트 스택에서 팝
- 실행 컨텍스트 스택 : 함수의 실행 순서 관리
- 자바스크립트 엔진은 단 하나의 실행 컨텍스트 스택을 가짐
  - 동시에 2개 이상의 함수를 실행할 수 없음
  - 싱글 스레드 방식 동작
    - 한 번에 하나의 태스크만 실행
    - 처리에 시간이 걸리는 태스크를 실행하는 경우 블로킹 발생
- 동기 처리
  - 현재 실행 중인 태스크가 종료할 때까지 다음에 실행될 태스크가 대기하는 방식
  - 장점 : 실행 순서 보장
  - 단점 : 앞선 태스크가 종료될 때까지 이후 태스크들이 블로킹됨
- 비동기 처리
  - 현재 실행 중인 태스크가 종료되지 않은 상태라 해도 다음 태스크를 곧바로 실행하는 방식
  - ex) 타이머 함수, HTTP 요청, 이벤트 핸들러
  - 장점 : 블로킹 발생하지 않음
  - 단점 : 실행 순서가 보장되지 않음

# 42.2 이벤트 루프와 태스크 큐

- 자바스크립트의 동시성 지원 : 싱글 스레드 방식이지만 멀티처럼 느껴지게 함
- 자바스크립트 엔진
  1. 콜 스택 : 함수의 실행 순서 관리
  2. 힙 : 객체가 저장되는 메모리 공간. 콜 스택이 참조함
- 호출 스케줄링 관리 → 브라우저 환경
  1. 태스크 큐 : 비동기 함수가 일시적으로 보관되는 영역
  2. 이벤트 루프 : 콜 스택이 비어있고 태스크 큐에 대기 중인 함수 존재 → FIFO
- 비동기 함수 : 태스크 큐에 푸시되어 대기 → 콜 스택이 비면 → 콜 스택에 푸시되어 실행됨
- 자바스크립트 엔진 : 싱글 스레드 동작
- 브라우저 : 멀티 스레드 동작
