# 타입 변환과 단축 평가

## 타입 변환
타입 변환에는 2가지 경우가 있다.
- 명시적 타입 변환(explicit coercion) / 타입 캐스팅(type casting)
  - 개발자가 의도적으로 값의 타입을 변환하는 것
- 암묵적 타입 변환(implicit coercion)/ 타입 강제 변환(type coercion)
  - 개발자의 의도와는 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동 변환되는 것

**타입 변환의 경우 기존의 원시 값을 직접 변경하는 것이 아닌 새로운 원시 값을 생성하는 것이다.**

## 암묵적 타입 변환
1. 문자열 타입으로 변환
자바스크립트 엔진은 문자열 연결 연산자 표현식을 평가하기 위해 문자열 연결 연산자의 피연산자 중에서 문자열 타입이 아닌 피연산자를 문자열 타입으로 암묵적 타입 변환다.
-> **문자열 타입이 아닌 값을 문자열 타입으로 암묵적 타입 변환을 수행할 때 [문자열이 아닌 값 + '']로 동작한다.**

2. 숫자형 타입으로 변환
자바스크립트 엔진은 산술 연산자 표현식을 평가하기 위해 산술 연산자의 피연산자 중에서 숫자 타입이 아닌 피연산자를 숫자 타입으로 암묵적 타입 변환한다.
숫자 타입으로 변환할 수 없는 경우는 평가 결과가 NaN이 된다.
-> **숫자 타입이 아닌 값을 숫자 타입으로 암묵적 타입 변환을 수행할 때 [+ 숫자 타입이 아닌 값]으로 동작한다.**

**#빈 문자열, 빈 배열, null, false는 0으로, true는 1로 변환된다. 객체와 빈 배열이 아닌 배열, undefined는 NaN이 된다.**

3. 불리언 타입으로 변환
제어문, 반복문, 삼항 조건 연산자의 조건식은 논리적 참/거짓으로 평가되어야 한다.
자바스크립트 엔진은 조건식의 평가 결과를 불리언 타입으로 암묵적 타입 변환한다.
-> **Truthy 값(참으로 평가되는 값), Falsy 값(거짓으로 평가되는 값)으로 구분한다.**
=> **Falsy 값 : false, undefined, null , 0, -0, NaN, ' ' (이 값들을 제외하고는 모두 Truthy 값이다.)**

## 명시적 타입 변환
1. 문자열 타입으로 변환
- String 생성자 함수 사용 : `String(바꿀 값);`
- toString 메서드 사용 : `(바꿀 값).toString();`
- 문자열 연결 연산자 사용 : `바꿀 값 + ' '` (바꿀 값에 빈 문자열을 더해준다.)

2. 숫자 타입으로 변환
- Number 생성자 함수 사용 : `Number(바꿀 값);`
- parseInt, parseFloat 함수 사용 : `parseInt(바꿀 값);` `parseFloat(바꿀 값);` -> 문자열만 변환 가능하다.
- + 단항 산술 연산자 사용 : `+바꿀 값;`
- * 산술 연산자 사용 : `바꿀 값 *1;`

3. 불리언 타입으로 변환
- Boolean 생성자 함수 사용 : `Boolean(바꿀 값);`
- !부정 논리 연산자를 두 번 사용 : `!!바꿀 값;`

## 단축 평가(short-cirtcuit evaluation)
### 논리 연산자를 사용한 단축 평가
논리합(OR) 또는 논리곱(AND) 연산자 표현식의 평가 결과는 불리언 값이 아닐 수 있다.
-  2개의 피연산자 중 어느 한쪽으로 평가된다.
  - 논리 연산의 결과를 결정하는 피연산자를 타입 변환하지 않고 그대로 반환한다.
  - 따라서 단축 평가는 **표현식을 평가하는 도중에 평가 결과가 확정된 경우 나머지 평가 과정을 생략하는 것**을 말한다.

if 문의 조건식이 Truthy 값으로 평가 될 때 단축 평가를 통해 논리곱(AND) 연산자 표현식으로 if 문을 대체할 수 있다.

if 문의 조건식이 Falsy 값으로 평가 될 때 단축 평가를 통해 논리합(OR) 연산자 표현식으로 if 문을 대체할 수 있다.

*단축 평가를 사용하면 null 또는 undefined로 인해 발생하는 에러를 방지할 수 있다.*

### 옵셔널 체이닝 연산자
ES11에서 도입된 연산자로 `?.`를 사용한다.
**좌항의 피연산자가 null 또는 undefined인 경우 undefined를 반환하고, 그렇지 않을 경우 우항의 프로퍼티 참조를 이어간다.**

### null 병합 연산자
ES11에서 도입된 연산자로 `??`를 사용한다.,
**좌항의 피연산자가 null 또는 undefined인 경우 우항의 피연산자를 반환하고, 그렇지 않으면 좌항의 피연산자를 반환한다.**